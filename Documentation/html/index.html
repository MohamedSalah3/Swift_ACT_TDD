<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Mohamed_Ahmed_Speed_ControlTDD: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Mohamed_Ahmed_Speed_ControlTDD
   &#160;<span id="projectnumber">0.2</span>
   </div>
   <div id="projectbrief">How to use Test driven development</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Mohamed_Ahmed_Speed_ControlTDD Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Speed Control Using TDD</h1>
<h2>Introduction</h2>
<h3>Who Am I ?</h3>
<p>Hello , My name is Mohamed Ahmed Salah , Sprints Wave 8 Graduate ,Egyptian Russian University Mechatronics Department Graduate Since 2019</p>
<h3>Lets focus again !</h3>
<p>Our Project today is Speed Control using Test driven Development As a better approach to build a project . to make it clear for you we will first start Descripting The project Then We will Talk about The Code Written and The approach Taken while Developing This Project <br  />
 </p>
<h2>Project Description </h2>
<p>We wanna Control a Motor speed so We will make a user to machine famous Interface </p>
<p>Called Push Buttons :) ,we will use 3 pushbuttons Called Upswitch , DownSwitch , P_Switch </p>
<h3>Up switch </h3>
<p>when Prepressed Will increment Motor Speed By one which means Decreasing Motor angle by one </p>
<h3>Down switch</h3>
<p>when Prepressed Will do the opposite of Up switch functionality and Lastly </p>
<h3>P Switch </h3>
<p>This Button Is special it makes User Changes speed By Pressing For a while AS it increments Motor angle By one Every 30 ms which decrements Motor speed while pressing it </p>
<h2>Project requirement's</h2>
<p>As There is No Hardware used in this Project it is Required To take the Switch Actions not from The hardware but from Switch.txt which will act like a genral Purpose Input output log . After This You should Process This Data In A module Called Switch Then Pass This information To Speed Control Module , Speed Control Module Will Manipulate The Input Data To send the required Angles to Motor module which will then write this data to a text file called Motor.txt </p>
<h2>Project Implementation </h2>
<p>i made two folders one is source folder which contains all three modules Switch , Speed Control , Motor . </p>
<h3>Switch Module </h3>
<p>The Method Used here For Function Prototyping Was To Return Error Status Which is basically </p>
<blockquote class="doxtable">
<p>typedef uint8_t ERROR_STATUS; #define E_NOK 1 &gt;#define E_OK 0 &gt;#define NULL_PTR 2 &gt;#define NOT_INIT 4 &gt;#define MULTIPLE_INIT 6 &gt;#define INVALID_PARM 8 </p>
</blockquote>
<p>And with it i defied Multiple Macros to make it readable , By using this method i will be sure that there is a feedback from the function of what really happened .</p>
<p>So these are The functions used in this module </p>
<p>&gt;ERROR_STATUS <a class="el" href="_switch_8h.html#a959f4dc1b973f95097ab5179fe7ce8aa">SWITCH_init(Switch_Cfg_str* Switch_used)</a>;</p>
<p>&gt;ERROR_STATUS <a class="el" href="_switch_8h.html#a4992551af623108b87b80308f8ba0e4d">SWITCH_update(Switch_Cfg_str* Switch_used,test_Cfg_str*Test_data)</a>; </p>
<p>The most important Parts of this Module Are lies here When we make a structure to represent every button we have to make usable for both testing and production and actuallyit was so useful Members that was so useful while coding are Switch id , Switch status , push time and lastly Programming mode. Switch id was used to make every button different from the others switch status used to know the status of buttons push time was exclusive for p switch and lastly programming mode used in init function to swap the used functions when production and when testing as we have used a pointer to function to do this trick . </p>
<blockquote class="doxtable">
<p>typedef struct <a class="el" href="struct_switch___cfg__str.html">Switch_Cfg_str</a>{ </p>
</blockquote>
<blockquote class="doxtable">
<p>uint8_t GPIO; </p>
</blockquote>
<blockquote class="doxtable">
<p>uint8_t pins; </p>
</blockquote>
<blockquote class="doxtable">
<p>uint8_t Switch_ID; </p>
</blockquote>
<blockquote class="doxtable">
<p>SWITCH_STATE_t Switch_status; </p>
</blockquote>
<blockquote class="doxtable">
<p>uint8_t Programming_Mode; </p>
</blockquote>
<blockquote class="doxtable">
<p>uint32_t Push_Time; </p>
</blockquote>
<blockquote class="doxtable">
<p>uint8_t u8_Mult_init_detect; </p>
</blockquote>
<blockquote class="doxtable">
<p>}<a class="el" href="struct_switch___cfg__str.html">Switch_Cfg_str</a>; </p>
</blockquote>
<p>As You can see we swapped this functions in the init function using pointer to function </p>
<p>&gt;SWITCH_STATE_t <a class="el" href="_switch_8h.html#ab5f4ac125bdcb2647817fab9660a66aa">SWITCH_getSwState_real(Switch_Cfg_str* Switch_used)</a>;</p>
<p>&gt;SWITCH_STATE_t <a class="el" href="_switch_8h.html#ac95d8d92d1ec267b933fdb1cee567d9f">SWITCH_getSwState_Fake(Switch_Cfg_str* Switch_used)</a>;</p>
<p>&gt;uint32_t <a class="el" href="_switch_8h.html#ae7234af716851c9b6e668435b0ae3578">SWITCH_getP_time_real(Switch_Cfg_str* Switch_used)</a>;</p>
<p>&gt;uint32_t <a class="el" href="_switch_8h.html#a6a5be207d19976be9000374e3accee37">SWITCH_getP_time_Fake(Switch_Cfg_str* Switch_used)</a>; </p>
<p>These are the objects which was created </p>
<blockquote class="doxtable">
<p>extern <a class="el" href="struct_switch___cfg__str.html">Switch_Cfg_str</a> UpSwitch; </p>
</blockquote>
<blockquote class="doxtable">
<p>extern <a class="el" href="struct_switch___cfg__str.html">Switch_Cfg_str</a> DownSwitch; </p>
</blockquote>
<blockquote class="doxtable">
<p>extern <a class="el" href="struct_switch___cfg__str.html">Switch_Cfg_str</a> P_Switch; </p>
</blockquote>
<h3>Speed Control Module</h3>
<p>In This Module Basically What We are doing is to take Data out of object to inject it in another Object .</p>
<p>so in this module we constructed a structure which will take the data from all push button structure and put it in a new structure the data we were most intrested in are Switches status and push time so we created this structure to handle this task . </p>
<blockquote class="doxtable">
<p>typedef struct <a class="el" href="structspeed___cfg__str.html">speed_Cfg_str</a></p>
<p>{ uint8_t Switch_ID[3]; </p>
</blockquote>
<p>So Whats really happening here is we used the switch id from switch module as an index to this array member of our struct to Update all three buttons in one object </p>
<blockquote class="doxtable">
<p>SWITCH_STATE_t Switch_status[3]; </p>
</blockquote>
<p>as you can see Push time is also here to take the value stored in push time member in the first Module(switch module) </p>
<blockquote class="doxtable">
<p>uint32_t Push_Time; </p>
</blockquote>
<p>And Motor Angle member which the Update function used to store its updated Angle on it </p>
<blockquote class="doxtable">
<p>MOTOR_ANGEL_t MOTOR_angel;</p>
<p>uint8_t Programming_Mode;}</p>
<p><a class="el" href="structspeed___cfg__str.html">speed_Cfg_str</a>; </p>
</blockquote>
<blockquote class="doxtable">
<p>extern <a class="el" href="structspeed___cfg__str.html">speed_Cfg_str</a> SpeedSTR_update; </p>
</blockquote>
<p>So these are The functions used in this module </p>
<blockquote class="doxtable">
<p>ERROR_STATUS <a class="el" href="_speed___control_8h.html#ab62e7aceadb62942e7394db5edfbebac">Speed_Control_init(void)</a>;</p>
<p>ERROR_STATUS <a class="el" href="_speed___control_8h.html#a5f22f6d8cae7b0f7d5d8ac179150c4a6">Speed_Control_get_Switch_state(speed_Cfg_str* SpeedSTR_used)</a>;</p>
<p>MOTOR_ANGEL_t <a class="el" href="_speed___control_8h.html#ab1c8f180ee4dc80d5f09cea8264e118f">Angel_update(speed_Cfg_str* SpeedSTR_used)</a>; </p>
</blockquote>
<h3>Motor Module</h3>
<p>In This Module Basically What We are doing is to take Data out of object to Print it in a text file . </p>
<blockquote class="doxtable">
<p>ERROR_STATUS <a class="el" href="_motor_8h.html#ad5c7e9daebc3bc14df1dc485b2d58623">MOTOR_init(void)</a>;</p>
<p>MOTOR_ANGEL_t <a class="el" href="_motor_8h.html#a3179badcad684e7dd8f77157e6cadc13">MOTOR_getAngel(speed_Cfg_str* SpeedSTR_used)</a>;</p>
<p>void <a class="el" href="_motor_8h.html#a38e9c5fb5becd4185b37ad0d5ae6d556">MOTOR_update(void)</a>;</p>
<p></p>
</blockquote>
<h1>How To Run This Project </h1>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
